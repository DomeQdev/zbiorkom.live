/* ==========================================
   CHRISTMAS STYLES - ≈öwiƒÖteczne dekoracje
   Coca-Cola vibes ‚ùÑÔ∏èüéÑüéÖ
   ========================================== */

/* Animacja migajƒÖcych lampek */
@keyframes christmasLightBlink {
    0%,
    100% {
        opacity: 1;
        transform: scale(1);
        filter: brightness(1.3);
    }
    40% {
        opacity: 0.3;
        transform: scale(0.9);
        filter: brightness(0.8);
    }
}

/* Animacja ≈õwiecenia lampek */
@keyframes christmasGlow {
    0%,
    100% {
        filter: drop-shadow(0 0 4px currentColor) brightness(1.2);
    }
    50% {
        filter: drop-shadow(0 0 10px currentColor) brightness(1.6);
    }
}

/* Kontener ≈õniegu */
.snow-container {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 9999;
    overflow: hidden;
}

/* Pojedynczy p≈Çatek ≈õniegu */
.snowflake {
    position: absolute;
    top: -20px;
    background: radial-gradient(
        circle at 30% 30%,
        rgba(255, 255, 255, 1) 0%,
        rgba(255, 255, 255, 0.9) 30%,
        rgba(200, 220, 255, 0.6) 60%,
        transparent 100%
    );
    border-radius: 50%;
    box-shadow: 0 0 8px rgba(255, 255, 255, 0.4);
    animation:
        snowfall linear infinite,
        snowSway ease-in-out infinite;
}

@keyframes snowfall {
    0% {
        transform: translateY(-20px) rotate(0deg);
    }
    100% {
        transform: translateY(calc(100vh + 20px)) rotate(720deg);
    }
}

@keyframes snowSway {
    0%,
    100% {
        margin-left: 0;
    }
    25% {
        margin-left: 20px;
    }
    75% {
        margin-left: -20px;
    }
}

/* Marker ≈õwiƒÖtecznego pojazdu */
.vehicle.christmas-vehicle {
    position: relative;
    overflow: visible;
    box-shadow:
        0 0 20px rgba(255, 0, 0, 0.5),
        0 0 35px rgba(0, 255, 0, 0.4),
        0 1px 10px 0 rgba(0, 0, 0, 0.12);
    animation: vehicleHaloGlow 6s ease-in-out infinite alternate;
}

/* Delikatne halo zmieniajƒÖce kolory - wolniejsze, bez epilepsji */
@keyframes vehicleHaloGlow {
    0% {
        box-shadow:
            0 0 25px 4px rgba(255, 0, 0, 0.6),
            0 0 50px rgba(255, 0, 0, 0.3);
    }
    20% {
        box-shadow:
            0 0 25px 4px rgba(255, 165, 0, 0.6),
            0 0 50px rgba(255, 165, 0, 0.3);
    }
    40% {
        box-shadow:
            0 0 25px 4px rgba(255, 215, 0, 0.6),
            0 0 50px rgba(255, 215, 0, 0.3);
    }
    60% {
        box-shadow:
            0 0 25px 4px rgba(0, 255, 0, 0.6),
            0 0 50px rgba(0, 255, 0, 0.3);
    }
    80% {
        box-shadow:
            0 0 25px 4px rgba(0, 191, 255, 0.6),
            0 0 50px rgba(0, 191, 255, 0.3);
    }
    100% {
        box-shadow:
            0 0 25px 4px rgba(186, 85, 211, 0.6),
            0 0 50px rgba(186, 85, 211, 0.3);
    }
}

/* PadajƒÖcy ≈õnieg nad pojazdem */
.vehicle-snow-falling {
    position: absolute;
    top: -50px;
    left: -12px;
    right: -12px;
    height: 50px;
    pointer-events: none;
    overflow: visible;
    z-index: 10;
}

.v-flake {
    position: absolute;
    background: #dbeeff;
    border-radius: 50%;
    opacity: 0;
    animation: vSnowFall 1.2s linear infinite;
    box-shadow: 0 0 3px rgba(219, 238, 255, 0.9);
}

.v-f1 {
    width: 5px;
    height: 5px;
    left: 20%;
    animation-delay: 0s;
    animation-duration: 1s;
}
.v-f2 {
    width: 4px;
    height: 4px;
    left: 50%;
    animation-delay: 0.3s;
    animation-duration: 1.1s;
}
.v-f3 {
    width: 6px;
    height: 6px;
    left: 80%;
    animation-delay: 0.6s;
    animation-duration: 1.3s;
}
.v-f4 {
    width: 4px;
    height: 4px;
    left: 35%;
    animation-delay: 0.1s;
    animation-duration: 0.9s;
}

@keyframes vSnowFall {
    0% {
        transform: translateY(0) translateX(0);
        opacity: 0;
    }
    20% {
        opacity: 1;
    }
    100% {
        transform: translateY(50px) translateX(3px);
        opacity: 0;
    }
}

/* Obs≈Çuga ciemnego motywu mapy */
body.map-dark .vehicle-snow-falling {
    filter: invert(1) hue-rotate(180deg) contrast(90%) brightness(90%);
}

/* ≈öwiƒÖteczna ramka */
.christmas-frame {
    position: relative;
    padding: 16px;
}

.christmas-corner {
    position: absolute;
    width: 32px;
    height: 32px;
    background-size: contain;
    background-repeat: no-repeat;
}

.christmas-corner-tl {
    top: 0;
    left: 0;
}

.christmas-corner-tr {
    top: 0;
    right: 0;
    transform: scaleX(-1);
}

.christmas-corner-bl {
    bottom: 0;
    left: 0;
    transform: scaleY(-1);
}

.christmas-corner-br {
    bottom: 0;
    right: 0;
    transform: scale(-1, -1);
}

/* ≈öwiƒÖteczna wstƒÖ≈ºka */
.christmas-ribbon {
    position: absolute;
    top: -10px;
    left: 50%;
    transform: translateX(-50%);
    background: linear-gradient(135deg, #c41e3a 0%, #8b0000 100%);
    color: white;
    padding: 6px 20px;
    font-size: 11px;
    font-weight: bold;
    text-transform: uppercase;
    letter-spacing: 1.5px;
    border-radius: 4px;
    box-shadow:
        0 4px 12px rgba(196, 30, 58, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.christmas-ribbon::before,
.christmas-ribbon::after {
    content: "";
    position: absolute;
    bottom: -8px;
    width: 10px;
    height: 10px;
    background: #6b0000;
    clip-path: polygon(0 0, 100% 0, 50% 100%);
}

.christmas-ribbon::before {
    left: 6px;
}

.christmas-ribbon::after {
    right: 6px;
}

/* Dialog ≈õwiƒÖteczny */
.christmas-dialog {
    overflow: hidden;
}

/* Karta ≈õwiƒÖtecznego pojazdu */
.christmas-vehicle-card {
    position: relative;
    background: linear-gradient(
        180deg,
        rgba(22, 91, 51, 0.12) 0%,
        rgba(196, 30, 58, 0.06) 50%,
        rgba(22, 91, 51, 0.08) 100%
    );
    border: 1px solid rgba(196, 30, 58, 0.25);
    border-radius: 20px;
    overflow: hidden;
    transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

@keyframes christmasLightsMove {
    0% {
        background-position: 0 0;
    }
    100% {
        background-position: 50px 0;
    }
}

/* Badge dostƒôpno≈õci */
.christmas-availability-badge {
    display: inline-flex;
    align-items: center;
    gap: 8px;
    padding: 6px 14px;
    border-radius: 16px;
    font-size: 12px;
    font-weight: 700;
    letter-spacing: 0.5px;
    text-transform: uppercase;
    backdrop-filter: blur(8px);
}

.christmas-availability-badge.available {
    background: linear-gradient(135deg, rgba(22, 91, 51, 0.9) 0%, rgba(13, 51, 32, 0.95) 100%);
    color: #90ee90;
    box-shadow:
        0 2px 8px rgba(22, 91, 51, 0.4),
        inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

.christmas-availability-badge.unavailable {
    background: linear-gradient(135deg, rgba(74, 74, 74, 0.9) 0%, rgba(45, 45, 45, 0.95) 100%);
    color: #aaa;
}

/* Efekt ≈õniegu w odje≈∫dzie */
.departure-snow {
    position: relative;
    overflow: hidden;
}

.departure-snow::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background:
        radial-gradient(2px 2px at 15px 8px, rgba(255, 255, 255, 0.9), transparent),
        radial-gradient(3px 3px at 45px 25px, rgba(255, 255, 255, 0.8), transparent),
        radial-gradient(2px 2px at 75px 12px, rgba(255, 255, 255, 0.7), transparent),
        radial-gradient(1px 1px at 105px 30px, rgba(255, 255, 255, 0.9), transparent),
        radial-gradient(2px 2px at 135px 18px, rgba(255, 255, 255, 0.6), transparent),
        radial-gradient(3px 3px at 165px 35px, rgba(255, 255, 255, 0.8), transparent);
    background-size: 180px 45px;
    animation: departureSnow 2s linear infinite;
    opacity: 0.6;
    pointer-events: none;
    z-index: 0;
}

@keyframes departureSnow {
    0% {
        background-position: 0 0;
    }
    100% {
        background-position: 0 45px;
    }
}

/* Girlanda na g√≥rze dialogu */
.christmas-garland {
    height: 40px;
    position: relative;
    overflow: hidden;
}

.christmas-garland::before {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 24px;
    background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 240 24'%3E%3Cpath d='M0 12 Q15 4, 30 12 T60 12 T90 12 T120 12 T150 12 T180 12 T210 12 T240 12' stroke='%23165b33' stroke-width='6' fill='none'/%3E%3Cpath d='M0 12 Q15 4, 30 12 T60 12 T90 12 T120 12 T150 12 T180 12 T210 12 T240 12' stroke='%231a7040' stroke-width='3' fill='none'/%3E%3Ccircle cx='15' cy='10' r='5' fill='%23ff0000'/%3E%3Ccircle cx='45' cy='14' r='5' fill='%2300ff00'/%3E%3Ccircle cx='75' cy='10' r='5' fill='%23ffcc00'/%3E%3Ccircle cx='105' cy='14' r='5' fill='%2300ccff'/%3E%3Ccircle cx='135' cy='10' r='5' fill='%23ff00ff'/%3E%3Ccircle cx='165' cy='14' r='5' fill='%23ff6600'/%3E%3Ccircle cx='195' cy='10' r='5' fill='%23ffffff'/%3E%3Ccircle cx='225' cy='14' r='5' fill='%23ff0000'/%3E%3C/svg%3E");
    background-repeat: repeat-x;
    animation: garlandLights 0.8s ease-in-out infinite alternate;
}

@keyframes garlandLights {
    0% {
        filter: brightness(1) drop-shadow(0 2px 4px rgba(255, 0, 0, 0.3));
    }
    100% {
        filter: brightness(1.4) drop-shadow(0 2px 8px rgba(255, 0, 0, 0.5));
    }
}

/* Gradient t≈Ça ≈õwiƒÖtecznego */
.christmas-bg {
    background: linear-gradient(
        180deg,
        rgba(22, 91, 51, 0.2) 0%,
        rgba(196, 30, 58, 0.1) 30%,
        rgba(22, 91, 51, 0.1) 70%,
        transparent 100%
    );
}

/* Animacja pulsowania */
@keyframes christmasPulse {
    0%,
    100% {
        transform: scale(1);
        opacity: 1;
        filter: drop-shadow(0 0 4px gold);
    }
    50% {
        transform: scale(1.1);
        opacity: 0.9;
        filter: drop-shadow(0 0 8px gold);
    }
}

/* ≈öwiƒÖteczna odznaka na markerze */
.christmas-marker-badge {
    position: absolute;
    top: -12px;
    right: -12px;
    width: 22px;
    height: 22px;
    background: linear-gradient(135deg, #c41e3a 0%, #8b0000 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 12px;
    box-shadow:
        0 2px 8px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.2);
    animation: christmasPulse 2s ease-in-out infinite;
    border: 2px solid rgba(255, 255, 255, 0.3);
}

/* Efekt b≈Çysku */
@keyframes shimmer {
    0% {
        background-position: -200% 0;
    }
    100% {
        background-position: 200% 0;
    }
}

.christmas-shimmer {
    background: linear-gradient(90deg, transparent 0%, rgba(255, 255, 255, 0.2) 50%, transparent 100%);
    background-size: 200% 100%;
    animation: shimmer 2s infinite;
}
